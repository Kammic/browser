%script(type="text/ng-template" id="/repos/index.html")
  %a(ng-click="refreshReposFromGithub()" ng-hide="loading")
    %span(class="label label-info") Refresh
  %a(ng-show="loading")
    %span(class="label label-warning") 
      %i(class="icon-spinner icon-spin")
      Refreshing
  %table(class="table table-striped table-bordered bootstrap-datatable datatable dataTable")
    %thead
      %tr(role="row")
        %th Name
        %th Description
        %th Actions
    %tbody
      %tr(ng-repeat="repo in repos" class="repos")
        %td 
          %a(ng-href="#/repo/{{repo.id}}") {{repo.name}}
        %td {{repo.short_description}}
        %td
          %a(ng-click="follow(repo.id)" ng-hide="repo.following")
            %span(class="label label-info") Follow
          %a(ng-click="unfollow(repo.book.id)" ng-show="repo.following")
            %span(class="label label-warning") Unfollow
  %ul(class="pagination")
    %li
      %a(ng-click="getRepos(page-1)" ng-hide="page <= 1") &laquo;
    %li(ng-repeat="p in pageRange()")
      %a(ng-click="getRepos($index+1)")
        {{$index+1}}
    %li
      %a(ng-click="getRepos(page+1)" ng-hide="page >= total_pages") &raquo;

%script(type="text/ng-template" id="/books/show.html")
  {{book.title}}
